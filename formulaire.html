<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <title>Commande Produit</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="form-container">
  <header>
    <img src="Logo.png" alt="Logo" class="logo-header">
  </header>
  
  <div id="photoAlbum" class="photo-album hidden">
    <img id="mainPhoto" class="main-photo" src="" alt="Photo produit" />
    <div class="thumbnails" id="thumbnails"></div>
  </div>

  <div id="fullscreenOverlay" class="fullscreen-overlay" tabindex="0" aria-modal="true" role="dialog" aria-label="Visualisation plein écran des images">
    <div id="arrowLeft" class="fullscreen-arrow" role="button" tabindex="0" aria-label="Image précédente">&#10094;</div>
    <img id="fullscreenImage" src="" alt="Agrandissement" />
    <div id="arrowRight" class="fullscreen-arrow" role="button" tabindex="0" aria-label="Image suivante">&#10095;</div>
  </div>

<form id="myForm">
    <div class="article-text fr" id="articleNomFR"></div>
    <div class="article-description fr" id="articleDescFR"></div>    
    
    <div class="article-text ar" id="articleNomAR"></div>
    <div class="article-description ar" id="articleDescAR"></div>    

	<div class="article-price" id="articlePrice"></div>
	<div class="old-article-price" id="oldarticlePrice"></div>

    <label>
        <span class="fr">Nom et Prénom</span>
        <span class="ar">الإسم و اللقب</span>
    </label>
    <input type="text" name="nom_prenom" required />

    <label>
      <span class="fr">Téléphone</span>
      <span class="ar">رقم الهاتف</span>
    </label>
    <input type="tel" name="tel" required />

    <label>
        <span class="fr">Wilaya</span>
        <span class="ar">الولاية</span>
    </label>
    <select name="wilaya" id="wilaya" required>
        <option value="">Sélectionnez votre wilaya / إختر الولاية</option>
    </select>

    <label>
      <span class="fr">Commune</span>
      <span class="ar">البلدية</span>
    </label>    
    <select name="commune" id="commune" required>
        <option value="">Sélectionnez votre commune / إختر البلدية</option>
    </select>  
    
    
    <div class="summary-box">
        <label> 
            <span class="fr">Quantité</span>
            <span class="ar">الكمية</span>
        </label>
        <div class="qty-container">
            <button type="button" class="qty-btn" id="minusBtn">−</button>
            <input type="number" name="qtt" class="qty-input" min="1" value="1" readonly />
            <button type="button" class="qty-btn" id="plusBtn">+</button>
        </div>
        
        <div class="field">
          <label>
              <span class="fr">Sous-total</span>
              <span class="ar">المجموع الجزئي</span>
          </label>
          <div class="input-icon">
              <i class="fa-solid fa-money-bill-wave"></i>
              <input type="text" id="subtotal" name="total_brut" class="money"  readonly value="0 DA" />
          </div>
        </div>
        
        <div id="totalRemiseContainer" class="hidden">
            <div class="field">
                <label> 
                    <span class="fr">Réduction (selon quantité)</span>
                    <span class="ar">التخفيض (حسب الكمية)</span>
                </label>
                
                <div class="input-icon">
                    <i class="fa-solid fa-gift"></i>
                    <input type="text" id="discount" name="remise" class="money" readonly value="0 DA" />
                </div>
            </div>
        </div>        
      
        <label>
            <span class="fr">Frais de livraison</span>
            <span class="ar">تكاليف التوصيل</span>
        </label>
        <div class="input-icon">
            <i class="fa-solid fa-truck"></i>
            <input type="text" id="deliveryFee" name="livraison" class="money" readonly value="0 DA" />    
        </div>
      
        <div class="livraison-mode">
            <label class="livraison-option">
                <input type="radio" name="modeLivraison" value="domicile" checked>
                <i class="fa-solid fa-house"></i>       
                <span>À domicile (<span class="livraison-prix" id="prixDomicile">--</span>) إلى المنزل</span>
            </label>
            
            <label class="livraison-option">
                <input type="radio" name="modeLivraison" value="desk">
                <i class="fa-solid fa-store"></i>        
                <span>Au point relais (<span class="livraison-prix" id="prixDesk">--</span>) إلى مكتب الاستلام</span>
            </label>
        </div>

        <div id="deskContainer"></div>

        <label>
            <span class="fr">Montant à payer</span>
            <span class="ar">المبلغ النهائي للدفع</span>
        </label>
        <div class="input-icon">
            <i class="fa-solid fa-money-bill-wave"></i>
            <input type="text" id="totalPrice"  name="total" class="money" readonly value="0 DA" />
        </div>
    </div>

	<div class="total-price" id="totalPriceBox"></div>
    <button type="submit" id="submitBtn" disabled>Confirmer la commande / تأكيد الطلب</button>
</form>
  
    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <p>Enregistrement en cours...</p>
    </div>

  <div id="successMessage" class="success hidden">
      <span class="ar">تم تسجيل طلبك بنجاح، وسيتواصل معك أحد موظفينا قريباً لتأكيد الطلب</span><br>
      <span class="fr">Votre commande a été enregistrée avec succès, et l’un de nos employés vous contactera bientôt pour la confirmer.</span><br><br>
  </div>
<!-- Vidéo produit -->
  <div id="videoContainer" class="hidden"   style="margin-top:20px; text-align:center;">
    <video width="100%" id="productVideo" controls autoplay loop muted playsinline style="max-width:100%; border-radius:8px;">
      <source src="" type="video/mp4">
      Votre navigateur ne supporte pas la lecture de vidéos.
    </video>
  </div>
  

 
    <hr style="margin-top:40px;">
    <label>
        <span class="fr">Avis des clients</span>
        <span class="ar">آراء العملاء</span3>
    </label>

    <div id="avisListe" style="margin-top:15px;">
        <label>
          <span class="fr">Chargement des avis...</span>
          <span class="ar">جارٍ تحميل الآراء...</span>
        </label> 
    </div>

  
      <hr style="margin-top:30px; margin-bottom:20px;">
    <h3 style="text-align:center;">Laissez votre avis sur cet article</h3>
    <h3 style="text-align:center;">اترك رأيك حول هذا المنتج</h3>
<form id="avisForm">
  <div>
    <input type="text" id="avisNom" placeholder="Nom complet / الاسم الكامل" required>
    <div id="etoiles">
      <i class="fa fa-star" data-value="1"></i>
      <i class="fa fa-star" data-value="2"></i>
      <i class="fa fa-star" data-value="3"></i>
      <i class="fa fa-star" data-value="4"></i>
      <i class="fa fa-star" data-value="5"></i>
    </div>
  </div>
  <textarea id="avisCommentaire" placeholder="Votre commentaire...تعليقك" required></textarea>
  <button type="submit">Envoyer / إرسال</button>
</form>
  <footer>
    <img src="Logo.png" alt="Logo" class="logo-footer">
  </footer>

</div>
<script src="script.js"></script>
</body>
</html>
